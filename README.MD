<p align="center">
  <img src="./Imagens/capa2.png" alt="Banner do Projeto" width="100%">
</p>


# ğŸ›¡ï¸ DetecÃ§Ã£o de Fraudes nas Entregas do Walmart

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://walmart-delivery-fraud-analysis-dashboard.streamlit.app/)
[![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

---

## ğŸ“Œ VisÃ£o Geral e Contexto do Problema

O aumento expressivo das compras online nos Ãºltimos anos trouxe grandes benefÃ­cios para empresas e consumidores, mas tambÃ©m revelou vulnerabilidades operacionais, especialmente nos processos de entrega. Empresas de grande porte, como o Walmart, enfrentam desafios crescentes relacionados Ã  confiabilidade da entrega, perdas logÃ­sticas e fraudes.

### ğŸ¯ Problema Central
As fraudes em entregas ocorrem quando hÃ¡ inconsistÃªncias entre o que foi enviado e o que o cliente declara ter recebido, podendo envolver:
- **Motoristas desonestos** que desviam produtos
- **Clientes fraudulentos** que fazem reclamaÃ§Ãµes falsas
- **Falhas sistÃªmicas** nos processos de verificaÃ§Ã£o
- **Vulnerabilidades regionais** e temporais

### ğŸ“ˆ Impacto do Problema
- **PrejuÃ­zos financeiros** diretos com reposiÃ§Ã£o de produtos
- **Perda de confianÃ§a** dos clientes legÃ­timos
- **Aumento de custos operacionais** com investigaÃ§Ãµes
- **DeterioraÃ§Ã£o da marca** e reputaÃ§Ã£o da empresa

Este projeto busca entender a origem dessas falhas a partir de um conjunto de dados reais da operaÃ§Ã£o do Walmart na regiÃ£o Central da FlÃ³rida, utilizando tÃ©cnicas avanÃ§adas de ciÃªncia de dados para extrair padrÃµes de comportamento e propor soluÃ§Ãµes com embasamento tÃ©cnico e estatÃ­stico.

---

## ğŸ§­ IntroduÃ§Ã£o

Este projeto tem como objetivo aplicar **ciÃªncia de dados avanÃ§ada** para detectar, analisar e mitigar ocorrÃªncias de fraudes em entregas realizadas pelo Walmart na regiÃ£o Central da FlÃ³rida. A iniciativa se apoia em um conjunto de dados realistas, tÃ©cnicas estatÃ­sticas, machine learning e estratÃ©gias de visualizaÃ§Ã£o de dados para propor soluÃ§Ãµes concretas e baseadas em evidÃªncias.

### ğŸ—ï¸ Arquitetura do Projeto

```
ğŸ“ Projeto Walmart Fraud Detection/
â”œâ”€â”€ ğŸ“Š Dashboard/                    # Dashboard Streamlit interativo
â”‚   â”œâ”€â”€ app.py                      # AplicaÃ§Ã£o principal
â”‚   â”œâ”€â”€ pages/                      # MÃ³dulos de pÃ¡ginas
â”‚   â”‚   â”œâ”€â”€ panorama.py             # VisÃ£o geral
â”‚   â”‚   â”œâ”€â”€ analise_temporal.py     # AnÃ¡lise temporal
â”‚   â”‚   â”œâ”€â”€ categorias_itens.py     # AnÃ¡lise de produtos
â”‚   â”‚   â”œâ”€â”€ regioes_entregadores.py # AnÃ¡lise regional
â”‚   â”‚   â”œâ”€â”€ padroes_ocultos.py      # Machine Learning
â”‚   â”‚   â”œâ”€â”€ diagnostico.py          # DiagnÃ³stico de responsabilidade
â”‚   â”‚   â”œâ”€â”€ evolucao.py             # TendÃªncias temporais
â”‚   â”‚   â””â”€â”€ recomendacoes.py        # AÃ§Ãµes recomendadas
â”‚   â”œâ”€â”€ utils/                      # UtilitÃ¡rios
â”‚   â”‚   â”œâ”€â”€ graphics.py             # FunÃ§Ãµes de visualizaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ loaders.py              # Carregamento de dados
â”‚   â”‚   â””â”€â”€ filters.py              # Filtros e transformaÃ§Ãµes
â”‚   â””â”€â”€ config/                     # ConfiguraÃ§Ãµes
â”‚       â””â”€â”€ style_config.py         # Estilos e temas
â”œâ”€â”€ ğŸ“‚ Notebooks/                   # AnÃ¡lises Jupyter
â”œâ”€â”€ ğŸ“„ Dados/                       # Arquivos CSV originais
â”œâ”€â”€ ğŸ—„ï¸ Database/                    # Base SQLite
â”‚   â””â”€â”€ walmart_fraudes.db          # Banco de dados principal
â”œâ”€â”€ ğŸ“– DocumentaÃ§Ã£o/                # DocumentaÃ§Ã£o tÃ©cnica
â”œâ”€â”€ ğŸ“‹ RelatÃ³rio/                   # RelatÃ³rios finais
â””â”€â”€ ğŸ¨ Imagens/                     # Assets visuais
```

A estrutura do projeto estÃ¡ organizada da seguinte forma:

- **`Notebooks/`**: ContÃ©m os Jupyter Notebooks utilizados para cada etapa da anÃ¡lise (EDA, modelagem, avaliaÃ§Ã£o, etc.).
- **`Dados/`**: Inclui os arquivos CSV com os dados brutos.
- **`Database/`**: Armazena a base de dados em SQLite utilizada para realizar consultas SQL e cruzamentos entre tabelas.
- **`DocumentaÃ§Ã£o/`**: Textos de apoio e descriÃ§Ãµes tÃ©cnicas.
- **`RelatÃ³rio/`**: VersÃµes PDF e Markdown do relatÃ³rio completo.
- **`Dashboard/`**: Dashboard desenvolvido em Streamlit para anÃ¡lise interativa (atualizaÃ§Ã£o da implementaÃ§Ã£o original em Power BI).

### ğŸ› ï¸ Stack TecnolÃ³gica

**Backend & AnÃ¡lise:**
- **Python 3.8+** - Linguagem principal
- **Pandas & NumPy** - ManipulaÃ§Ã£o de dados
- **SQLite** - Banco de dados relacional
- **Scikit-learn** - Machine Learning
- **Plotly & Seaborn** - VisualizaÃ§Ã£o avanÃ§ada

**Dashboard & Interface:**
- **Streamlit** - Framework web para dashboards
- **Plotly Dash** - GrÃ¡ficos interativos
- **CSS/HTML** - CustomizaÃ§Ã£o visual
- **Responsive Design** - Interface adaptÃ¡vel

**DevOps & Deployment:**
- **Streamlit Cloud** - Deploy automÃ¡tico
- **Git/GitHub** - Controle de versÃ£o
- **Docker** - ContainerizaÃ§Ã£o (opcional)

ğŸ’¡ **Todos os scripts estÃ£o comentados e versionados para facilitar a reprodutibilidade.**

<p align="center">
  <a href="README.MD">ğŸ“˜ README</a> â€¢
  <a href="./RelatÃ³rio/RELATORIO.md">ğŸ“Š RelatÃ³rio</a> â€¢
  <a href="./Instrucoes/INSTRUCOES.md">ğŸ“‚ DocumentaÃ§Ã£o</a> â€¢
  <a href="https://walmart-delivery-fraud-analysis-dashboard.streamlit.app/">ğŸš€ Dashboard Live</a>
</p>

---

## ğŸ” Metodologia e Etapas da AnÃ¡lise

### ğŸ§ª 1. AnÃ¡lise ExploratÃ³ria dos Dados (EDA)

**Estrutura dos Dados:**
- **`orders`** - 10.000 registros de pedidos e entregas
- **`drivers`** - 500 motoristas com perfis comportamentais
- **`customers`** - 1.000 clientes Ãºnicos
- **`missing_items`** - 5.000 relatos de itens nÃ£o entregues
- **`products`** - 200 produtos do catÃ¡logo

**Processo de AnÃ¡lise:**
- âœ… AnÃ¡lise das tabelas: `orders`, `drivers`, `customers`, `missing_items`, `products`
- âœ… VerificaÃ§Ã£o de dados ausentes e integridade relacional entre IDs
- âœ… IdentificaÃ§Ã£o de regiÃµes e horÃ¡rios com maior volume de reclamaÃ§Ãµes (ex.: Altamonte Springs, Apopka e perÃ­odo da madrugada)
- âœ… AnÃ¡lise de recorrÃªncia entre motoristas e clientes com falhas
- âœ… CombinaÃ§Ã£o via SQL de mÃºltiplas tabelas para cruzar entregas, itens nÃ£o recebidos e perfis de motoristas

**Descobertas Principais:**
- ğŸš¨ **RegiÃµes crÃ­ticas:** Altamonte Springs (8.2% fraude), Apopka (7.8% fraude)
- â° **HorÃ¡rios vulnerÃ¡veis:** 0h-5h (taxa 3x maior que mÃ©dia)
- ğŸ‘¥ **Motoristas reincidentes:** 23 motoristas com taxa >10% de problemas
- ğŸ›’ **Produtos alvo:** Chicken Breast, Peanut Butter, Ground Coffee

**TÃ©cnicas Aplicadas:**
```python
# Exemplo de anÃ¡lise de correlaÃ§Ã£o temporal
fraud_by_hour = orders.groupby('delivery_hour').agg({
    'items_missing': 'sum',
    'order_id': 'count'
}).reset_index()
fraud_rate = (fraud_by_hour['items_missing'] / fraud_by_hour['order_id'] * 100)
```

### ğŸ§  2. DetecÃ§Ã£o de PadrÃµes de Fraude

**Algoritmos Implementados:**

**ğŸŒ² Isolation Forest**
- DetecÃ§Ã£o de anomalias em comportamento de motoristas
- IdentificaÃ§Ã£o de outliers em padrÃµes de entrega
- PrecisÃ£o: 87% na detecÃ§Ã£o de casos suspeitos

**ğŸŒ³ Random Forest**
- ClassificaÃ§Ã£o de pedidos de alto risco
- Feature importance para fatores de fraude
- AUC-ROC: 0.91

**ğŸ“Š K-Means Clustering**
- SegmentaÃ§Ã£o de motoristas por perfil de risco
- Agrupamento de regiÃµes por similaridade
- 4 clusters distintos identificados

**Processo de Modelagem:**
- âœ… AplicaÃ§Ã£o de Isolation Forest e Random Forest para detectar entregadores com padrÃµes fora da curva
- âœ… AnÃ¡lise de divergÃªncia entre itens entregues e recebidos
- âœ… ClusterizaÃ§Ã£o de motoristas reincidentes por mÃ©tricas de comportamento
- âœ… Destacam-se motoristas como Dana Ferguson e Daniel Hall, com altas taxas de pedidos problemÃ¡ticos

**VariÃ¡veis Preditivas:**
- `delivery_hour` - HorÃ¡rio da entrega
- `driver_trips_count` - ExperiÃªncia do motorista
- `region` - LocalizaÃ§Ã£o geogrÃ¡fica
- `product_category` - Tipo de produto
- `customer_order_history` - HistÃ³rico do cliente

### âš–ï¸ 3. AvaliaÃ§Ã£o de Causas e Responsabilidades

**ğŸ“ AnÃ¡lise Regional:**
```
RegiÃ£o               Taxa Fraude   Volume    Risk Score
Altamonte Springs    8.2%          1,247     Alto
Apopka              7.8%          1,156     Alto
Winter Park         3.1%          2,341     MÃ©dio
Orlando Center      2.8%          3,892     Baixo
```

**ğŸ‘¨â€ğŸ’¼ Perfil de Motoristas CrÃ­ticos:**
- **Dana Ferguson:** 47 relatos em 156 entregas (30.1%)
- **Daniel Hall:** 52 relatos em 203 entregas (25.6%)
- **Mark Wilson:** 38 relatos em 167 entregas (22.8%)

**ğŸ• PadrÃµes Temporais:**
- **Madrugada (0h-5h):** 12.4% taxa de fraude
- **ManhÃ£ (6h-11h):** 3.2% taxa de fraude
- **Tarde (12h-17h):** 2.8% taxa de fraude
- **Noite (18h-23h):** 4.1% taxa de fraude

**Principais Achados:**
- âœ… RegiÃµes crÃ­ticas identificadas: Altamonte Springs e Apopka
- âœ… HorÃ¡rios com maior taxa de falha: entre 0h e 5h
- âœ… Produtos mais visados: Chicken Breast, Peanut Butter, Ground Coffee
- âœ… Clientes e motoristas reincidentes apontados como possÃ­veis causadores de fraudes recorrentes
- âœ… EvoluÃ§Ã£o temporal indica crescimento dos casos com o tempo

---

## ğŸ¯ Dashboard Interativo

### ğŸš€ Acesso Online
**[ğŸ”— Dashboard ao Vivo](https://walmart-delivery-fraud-analysis-dashboard.streamlit.app/)**

### ğŸ“Š Funcionalidades Implementadas

**Ferramentas utilizadas:** Streamlit (evoluÃ§Ã£o da proposta original em Power BI/Google Sheets/Looker Studio para uma soluÃ§Ã£o mais robusta e interativa)

**MÃ©tricas apresentadas:**
- âœ… Total de pedidos com falha por perÃ­odo
- âœ… Mapa de calor por cidade e regiÃ£o
- âœ… Produtos mais relatados como nÃ£o entregues
- âœ… Ranking de motoristas e clientes com maiores ocorrÃªncias
- âœ… Filtros por hora, local, cliente, produto e motorista

**1. ğŸ  Panorama Geral**
- KPIs principais em tempo real
- TendÃªncia de fraudes com linha de regressÃ£o
- DistribuiÃ§Ã£o por categoria de produtos
- Lista completa de motoristas ranqueados

**2. â±ï¸ AnÃ¡lise Temporal**
- Heatmap interativo hora x dia da semana
- MÃ©dias mÃ³veis (7 e 30 dias)
- DetecÃ§Ã£o de anomalias temporais
- AnÃ¡lise de sazonalidade

**3. ğŸ“¦ Produtos & Categorias**
- Treemap hierÃ¡rquico com emojis
- CorrelaÃ§Ã£o preÃ§o Ã— fraude
- Rankings interativos
- Filtros por categoria e impacto

**4. ğŸ—ºï¸ RegiÃµes & Entregadores**
- AnÃ¡lise geoespacial (quando disponÃ­vel)
- Perfis detalhados de motoristas
- DetecÃ§Ã£o de comportamento anÃ´malo
- CorrelaÃ§Ãµes demogrÃ¡ficas

**5. ğŸ” PadrÃµes Ocultos**
- Matriz de correlaÃ§Ã£o interativa
- ClusterizaÃ§Ã£o com visualizaÃ§Ã£o 2D
- AnÃ¡lise de padrÃµes sequenciais
- Machine Learning em tempo real

**6. ğŸ©º DiagnÃ³stico de Responsabilidade**
- Mapa de correlaÃ§Ãµes motorista Ã— produto
- Diagrama de Sankey para fluxos
- Tabela cruzada de anÃ¡lise
- AtribuiÃ§Ã£o quantitativa de responsabilidade

**7. ğŸ“ˆ EvoluÃ§Ã£o e TendÃªncias**
- ComparaÃ§Ã£o entre perÃ­odos
- ProjeÃ§Ãµes baseadas em tendÃªncias
- IdentificaÃ§Ã£o de pontos de inflexÃ£o
- AnÃ¡lise de ciclos sazonais

**8. ğŸ’¡ RecomendaÃ§Ãµes Inteligentes**
- Matriz esforÃ§o Ã— impacto
- Plano de aÃ§Ã£o em fases
- ROI estimado para cada medida
- MÃ©tricas de acompanhamento

### ğŸ¨ Interface e ExperiÃªncia

**Design Responsivo:**
- ğŸ“± CompatÃ­vel com mobile e desktop
- ğŸŒ™ Modo escuro/claro
- âš¡ Carregamento otimizado
- ğŸ¯ Interface intuitiva

**Interatividade AvanÃ§ada:**
- ğŸ”„ Filtros dinÃ¢micos globais
- ğŸ“Š GrÃ¡ficos interativos com Plotly
- ğŸ“¥ ExportaÃ§Ã£o de dados (CSV, PDF)
- ğŸ” Drill-down em anÃ¡lises

---

## âœ… RecomendaÃ§Ãµes e Medidas Preventivas

### ğŸ› ï¸ SoluÃ§Ãµes TÃ©cnicas ImplementÃ¡veis

| ğŸ› ï¸ Medida                         | ğŸ’¡ Justificativa                                                | ğŸ“‰ ReduÃ§Ã£o Estimada | ğŸ’° Investimento | â±ï¸ Prazo |
|----------------------------------|------------------------------------------------------------------|----------------------|-----------------|-----------|
| **ValidaÃ§Ã£o com foto obrigatÃ³ria** | ComprovaÃ§Ã£o visual no momento da entrega                        | 12â€“18%               | Baixo           | 1-3 meses |
| **QR Code dinÃ¢mico + PIN**         | AutenticaÃ§Ã£o segura e exclusiva por pedido                      | 8â€“12%                | MÃ©dio           | 2-4 meses |
| **Auditoria de motoristas**        | Foco em reincidentes com alta taxa de falha                     | 6â€“10%                | Baixo           | 1 mÃªs     |
| **Monitoramento geotemporal**      | PrevenÃ§Ã£o em zonas e perÃ­odos crÃ­ticos                          | 5â€“8%                 | Alto            | 4-6 meses |
| **IA para detecÃ§Ã£o em tempo real** | Algoritmos preditivos para flagging automÃ¡tico                  | 10â€“15%               | Alto            | 6-12 meses|
| **Sistema de scoring integrado**   | PontuaÃ§Ã£o de risco para pedidos e motoristas                    | 8â€“12%                | MÃ©dio           | 3-6 meses |
| **ğŸ“Š Total combinado estimado**    | **ImplementaÃ§Ã£o escalonada de todas as medidas**                | **ğŸ¯ 35â€“50%**        | **VariÃ¡vel**    | **12-18 meses** |

### ğŸš€ Roadmap de ImplementaÃ§Ã£o

**Fase 1 - Quick Wins (1-3 meses):**
1. âœ… Auditoria imediata de motoristas crÃ­ticos
2. ğŸ“¸ ImplementaÃ§Ã£o de validaÃ§Ã£o com foto
3. ğŸ“Š Dashboard de monitoramento em tempo real

**Fase 2 - Melhorias TÃ©cnicas (3-6 meses):**
1. ğŸ” Sistema de QR Code dinÃ¢mico
2. ğŸ“ˆ Algoritmos de scoring de risco
3. ğŸ—ºï¸ Monitoramento geotemporal

**Fase 3 - InovaÃ§Ã£o AvanÃ§ada (6-12 meses):**
1. ğŸ¤– IA para detecÃ§Ã£o preditiva
2. ğŸ”„ Sistema de feedback contÃ­nuo
3. ğŸ“Š Analytics avanÃ§ado com BigData

---

## ğŸ“Š Resultados e MÃ©tricas de Sucesso

### ğŸ“ˆ KPIs de Acompanhamento

**MÃ©tricas PrimÃ¡rias:**
- ğŸ¯ **Taxa geral de fraude:** Baseline 4.8% â†’ Meta 2.4% (50% reduÃ§Ã£o)
- ğŸ’° **Valor recuperado:** $150K/mÃªs estimado
- â±ï¸ **Tempo de investigaÃ§Ã£o:** 5 dias â†’ 1 dia (80% reduÃ§Ã£o)

**MÃ©tricas SecundÃ¡rias:**
- ğŸ‘¥ **SatisfaÃ§Ã£o do cliente:** Aumento de 15%
- ğŸšš **EficiÃªncia de entrega:** Melhoria de 20%
- ğŸ’¼ **Rotatividade de motoristas:** ReduÃ§Ã£o de 25%

### ğŸ”¬ ValidaÃ§Ã£o CientÃ­fica

**Testes EstatÃ­sticos Aplicados:**
- **Chi-quadrado:** IndependÃªncia entre variÃ¡veis categÃ³ricas
- **ANOVA:** DiferenÃ§as significativas entre grupos
- **Teste t:** ComparaÃ§Ã£o de mÃ©dias antes/depois
- **CorrelaÃ§Ã£o de Pearson:** ForÃ§a de associaÃ§Ãµes lineares

**Confiabilidade dos Modelos:**
- **Isolation Forest:** 87% precisÃ£o, 12% falsos positivos
- **Random Forest:** 91% AUC-ROC, 89% acurÃ¡cia
- **K-Means:** Silhouette Score 0.73

---

## ğŸ”§ Propostas de Aprimoramento Futuro

### ğŸ§ª 1. ExperimentaÃ§Ã£o Controlada (Testes A/B)
**Testes A/B Planejados:**
- ğŸ†š **QR Code dinÃ¢mico vs PIN tradicional** como mÃ©todo de autenticaÃ§Ã£o (4 semanas)
- ğŸ“¸ **ValidaÃ§Ã£o com foto vs sem validaÃ§Ã£o** (6 semanas)
- ğŸ¤– **IA vs regras tradicionais** (8 semanas)

**MÃ©tricas de Sucesso:**
- Taxa de fraude, satisfaÃ§Ã£o do cliente, tempo de entrega

### ğŸ“¦ 2. Enriquecimento de Dados (Melhoria nos Dados)
**Novas VariÃ¡veis Propostas:**
- âœ… AdiÃ§Ã£o de `gps_lat` e `gps_long` na entrega
- âœ… Registro do `delivery_timestamp` preciso
- âœ… InclusÃ£o de `assinatura_cliente`, `foto_comprovante_url` e `cliente_feedback`

```sql
ALTER TABLE orders ADD COLUMN gps_lat DECIMAL(10,8);
ALTER TABLE orders ADD COLUMN gps_long DECIMAL(11,8);
ALTER TABLE orders ADD COLUMN delivery_timestamp DATETIME;
ALTER TABLE orders ADD COLUMN cliente_feedback TEXT;
ALTER TABLE orders ADD COLUMN foto_comprovante_url VARCHAR(255);
ALTER TABLE orders ADD COLUMN assinatura_digital BLOB;
```

### ğŸ—£ï¸ 3. Pesquisas Qualitativas
**Entrevistas Estruturadas:**
- ğŸ‘¨â€ğŸ’¼ **Entrevistas com motoristas** sobre desafios logÃ­sticos (n=50)
- ğŸ‘¥ **Coleta de feedback de clientes** em Ã¡reas com alta incidÃªncia de problemas (n=100)
- ğŸ¢ **Gestores** (n=20): Processos internos e limitaÃ§Ãµes

### ğŸ¤– 4. IA AvanÃ§ada e Big Data
**Tecnologias Emergentes:**
- **Computer Vision** para anÃ¡lise automÃ¡tica de fotos
- **NLP** para anÃ¡lise de feedback textual
- **Graph Neural Networks** para detecÃ§Ã£o de redes fraudulentas
- **Real-time streaming** com Apache Kafka
